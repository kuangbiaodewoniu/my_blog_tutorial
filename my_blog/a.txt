[{"model": "article.article", "pk": 7, "fields": {"title": "Django \u642d\u5efa\u7b80\u6613\u535a\u5ba2", "category": "django", "date_time": "2018-04-28T02:18:35.303Z", "content": "# \u521b\u5efa\u9879\u76ee\r\n>django-admin startproject my_blog\r\n# \u6dfb\u52a0APP\u81f3my_blog article\r\n> 1. cd my_blog\r\n> 2. python manage.py startapp article\r\n> 3. my_blog/my_blog/settings.py\u4e0b\u6dfb\u52a0\u65b0\u5efaapp\r\n\r\n     INSTALLED_APPS = [\r\n    'django.contrib.admin',\r\n    'django.contrib.auth',\r\n    'django.contrib.contenttypes',\r\n    'django.contrib.sessions',\r\n    'django.contrib.messages',\r\n    'django.contrib.staticfiles',\r\n    'article',\r\n]``\r\n# \u8fd0\u884c\u7a0b\u5e8f\r\n> python manage.py migrate\r\n  python manage.py runserver\r\n  \u8bbf\u95ee\u7f51\u5740\uff1a http://127.0.0.1:8000/\r\n# \u8bbe\u7f6e\u6570\u636e\u5e93 sqlite\r\n> my_blog/my_blog/settings.py\r\n  ``DATABASES = {\r\n    'default': {\r\n        'ENGINE': 'django.db.backends.sqlite3',\r\n        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\r\n    }\r\n}``\r\n# \u521b\u5efamodel\r\n    from django.db import models\r\n\r\n    class Article(models.Model):\r\n    # \u6807\u9898\r\n    title = models.CharField(max_length=64)\r\n    # \u6807\u7b7e\r\n    category = models.CharField(max_length=64)\r\n    # \u65e5\u671f\r\n    date_time = models.DateTimeField(auto_now_add=True)\r\n    # \u6b63\u6587\r\n    content = models.TextField(blank=True, null=True)\r\n\r\n    def __str__(self):\r\n        return self.title\r\n\r\n    class Meta:\r\n        ordering = ['-date_time']\r\n# \u540c\u6b65\u6570\u636e\r\n> python manage.py makemigration\r\npython manage.py migrate\r\n# django shell\r\n> python manage.py shell\r\n>  from article.models import Article\r\n> * \u589e  \r\nArticle.objects.create(title='Markdown \u8bed\u6cd5\u5feb\u901f\u5165\u95e8\u624b\u518c',category='markdown'\r\n,content='Markdown \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\uff0c\u80fd\u5c06\u6587\u672c\u6362\u6210\u6709\u6548\u7684XHTML(\u6216\u8005HTML)\u6587\u6863\uff0c\r\n\u5b83\u7684\u76ee\u6807\u662f\u5b9e\u73b0\u6613\u8bfb\u6613\u5199\uff0c\u6210\u4e3a\u4e00\u79cd\u9002\u7528\u4e8e\u7f51\u7edc\u7684\u4e66\u5199\u8bed\u8a00\u3002') \r\n> * \u6539  \r\nthird = Article.objects.get(id=3)\r\nthird['title'] = 'xxxxx'\r\n> * \u5220 \r\nthird.delete()\r\n>* \u67e5 \r\nArticle.objects.all()\r\nArticle.objects.get(id=1)\r\nArticle.objects.filter(title__contains='markdown')\r\n>* \u6392\u5e8f\r\nArticle.objects.order_by('-title')\r\n# \u521b\u5efa\u540e\u53f0\u8d85\u7ea7\u7528\u6237\r\n> python manage.py createsuperuser\r\n# \u628aArticle\u8868\u7684\u64cd\u4f5c\u529f\u80fd\u6dfb\u52a0\u5230\u540e\u53f0 http://127.0.0.1:8000/admin/\r\n>\u64cd\u4f5c\u8def\u5f84\uff1a my_blog/article/admin.py\r\n\r\n      from django.contrib import admin\r\n      from article.models import Article\r\n      # Register your models here.\r\n      admin.site.register(Article)\r\n# \u7f51\u9875\u7a0b\u5e8f\u7684\u903b\u8f91\r\n1. url\u8bbe\u7f6e\u76f8\u5f53\u4e8e\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u51farequest\u8bf7\u6c42\u7684\u5165\u53e3, \u5e76\u7528\u6765\u6307\u660e\u8981\u8c03\u7528\u7684\u7a0b\u5e8f\u903b\u8f91  \r\n\u64cd\u4f5c\u8def\u5f84\uff1a my_blog/my_blog/urls.py\r\n\r\n       from django.contrib import admin\r\n       from django.urls import path\r\n       from article import views\r\n       urlpatterns = [\r\n         path('admin/', admin.site.urls),\r\n         path('home/', views.home),\r\n         path('test/', views.test),\r\n       ]\r\n2. views\u7528\u6765\u5904\u7406\u7a0b\u5e8f\u903b\u8f91, \u7136\u540e\u5448\u73b0\u5230template(\u4e00\u822c\u4e3aGET\u65b9\u6cd5, POST\u65b9\u6cd5\u7565\u6709\u4e0d\u540c)\r\n\u64cd\u4f5c\u8def\u5f84\uff1a my_blog/article/views.py\r\n\r\n        from django.shortcuts import render\r\n        from django.http import HttpResponse\r\n        from datetime import datetime\r\n        # Create your views here.\r\n        def test(request):\r\n          return render(request, 'test.html', {'current_time': datetime.now()})\r\n3. \u8bbe\u7f6etemplates\u8def\u5f84\r\n\u64cd\u4f5c\u8def\u5f84\uff1a my_blog/my_blog/settings.py\r\n\r\n       TEMPLATE_PATH = os.path.join(BASE_DIR, 'templates')\r\n       TEMPLATES = [\r\n       {\r\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\r\n        'DIRS': [TEMPLATE_PATH],\r\n        'APP_DIRS': True,\r\n        'OPTIONS': {\r\n            'context_processors': [\r\n                'django.template.context_processors.debug',\r\n                'django.template.context_processors.request',\r\n                'django.contrib.auth.context_processors.auth',\r\n                'django.contrib.messages.context_processors.messages',\r\n            ],\r\n        },\r\n        },\r\n        ]\r\n4. template\u4e00\u822c\u4e3ahtml+CSS\u7684\u5f62\u5f0f, \u4e3b\u8981\u662f\u5448\u73b0\u7ed9\u7528\u6237\u7684\u8868\u73b0\u5f62\u5f0f\r\n   \r\n       <!doctype html>\r\n       <html lang=\"en\">\r\n       <head>\r\n           <meta charset=\"UTF-8\">\r\n           <meta name=\"viewport\"\r\n                 content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-                  scale=1.0\">\r\n          <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n          <title>test template</title>\r\n          <style>\r\n        body{\r\n            background-color: #EEEED1\r\n        }\r\n        strong{\r\n            color: #454545\r\n        }\r\n          </style>\r\n            </head>\r\n            <body>\r\n          <h1>Hello world!</h1>\r\n          <strong>{{ current_time }}</strong>\r\n            </body>\r\n            </html>\r\n# markdown\u535a\u6587\r\n> 1. \u5b89\u88c5markdown\r\n> 2. \u5b9a\u4e49template filter\r\n\r\n        from django import template\r\n        from django.utils.safestring import mark_safe\r\n        from django.template.defaultfilters import stringfilter\r\n        import markdown\r\n\r\n        register = template.Library()\r\n\r\n\r\n        @register.filter(is_safe=True)\r\n        @stringfilter\r\n\r\n        def custom_markdown(value):\r\n            return mark_safe(markdown.markdown(value,\r\n                                       extentions=['markdown.extensions.fenced_code', 'markdown.extensions.codehilite'],\r\n                                       safe_mode=True,\r\n                                       enable_attributes=True))\r\n> 3. \u6ce8\u518c\r\n    \u8def\u5f84\uff1a my_blog/my_blog/settings.py\r\n\r\n    INSTALLED_APPS = [\r\n    'django.contrib.admin',\r\n    'django.contrib.auth',\r\n    'django.contrib.contenttypes',\r\n    'django.contrib.sessions',\r\n    'django.contrib.messages',\r\n    'django.contrib.staticfiles',\r\n    'article',\r\n    'article.templatetags.custom_markdown'\r\n    ]\r\n> 4.  \u4f7f\u7528\u65b9\u6cd5\uff1a \u5728html \u6a21\u677f\u4e2d\u52a0\u8f7d\u5e76\u5f15\u7528\r\n\r\n     {% load custom_markdown %}\r\n     {{ post.content|custom_markdown }}"}}, {"model": "article.article", "pk": 6, "fields": {"title": "CURRENT_PROTOCOL is not defined", "category": "https", "date_time": "2018-04-28T01:51:03.319Z", "content": "# CURRENT_PROTOCOL is not defined\r\n1.  a\r\n2.  b\r\n3. c"}}, {"model": "article.article", "pk": 5, "fields": {"title": "\u5218\u82b7\u66e6", "category": "\u5c0f\u670b\u53cb", "date_time": "2018-04-27T13:39:10.654Z", "content": "\u6211\u7231\u4f60"}}, {"model": "article.article", "pk": 4, "fields": {"title": "Django \u642d\u5efa\u7b80\u6613\u535a\u5ba2", "category": "django", "date_time": "2018-04-27T08:27:54.695Z", "content": "\u672c\u6559\u7a0b\u4ecb\u7ecd\u5982\u4f55\u4e00\u6b65\u6b65\u4f7f\u7528 Django \u5f00\u53d1\u4e00\u4e2a\u7b80\u5355\u7684\u535a\u5ba2 Web\u5e94\u7528\uff0c\u6d89\u53ca Django Web\u5f00\u53d1\uff0cMVC\uff0cTemplate\u7b49\u77e5\u8bc6\u70b9\uff0c\u9002\u7528\u4e8e\u6709 Python \u548c Django \u57fa\u7840\u7684\u540c\u5b66\u3002"}}, {"model": "article.article", "pk": 2, "fields": {"title": "Markdown \u8bed\u6cd5\u5feb\u901f\u5165\u95e8\u624b\u518c", "category": "markdown", "date_time": "2018-04-27T05:33:54.829Z", "content": "Markdown \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\uff0c\u80fd\u5c06\u6587\u672c\u6362\u6210\u6709\u6548\u7684XHTML(\u6216\u8005HTML)\u6587\u6863\uff0c\u5b83\u7684\u76ee\u6807\u662f\u5b9e\u73b0\u6613\u8bfb\u6613\u5199\uff0c\u6210\u4e3a\u4e00\u79cd\u9002\u7528\u4e8e\u7f51\u7edc\u7684\u4e66\u5199\u8bed\u8a00\u3002"}}, {"model": "article.article", "pk": 1, "fields": {"title": "hello world", "category": "python", "date_time": "2018-04-27T05:31:58.592Z", "content": "\u4e00\u770b\u5c31\u61c2\uff0c\u4e00\u5b66\u5c31\u4f1a\uff0cpython\u5b66\u4e60\u4ea4\u6d41"}}]